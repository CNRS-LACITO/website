<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/html4/strict.dtd">
<html><!-- InstanceBegin template="/Templates/seconde-navgauche.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Language" content="fr">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Recherche sur le site du Lacito</title>
<!-- InstanceEndEditable --><link rel="stylesheet" type="text/css" href="../styles/xcharte.css">
<link rel="stylesheet" type="text/css" href="../styles/styles.css">
<script src="../Scripts/Change_Version.js" type="text/javascript"></script>
<script language="JavaScript" src="../z-outils/init.js"></script>
<script language="JavaScript" src="../z-outils/outils.js"></script>
<script language="JavaScript" type="text/JavaScript">
<!--
function MM_reloadPage(init) {  //reloads the window if Nav4 resized
  if (init==true) with (navigator) {if ((appName=="Netscape")&&(parseInt(appVersion)==4)) {
    document.MM_pgW=innerWidth; document.MM_pgH=innerHeight; onresize=MM_reloadPage; }}
  else if (innerWidth!=document.MM_pgW || innerHeight!=document.MM_pgH) location.reload();
}
MM_reloadPage(true);

function MM_openBrWindow(theURL,winName,features) { //v2.0
  window.open(theURL,winName,features);
}
//-->
</script>
<!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
<style type="text/css">
<!--
.Style1 {color: #820E12}
-->
</style>
</head>
<body marginwidth="0" marginheight="0" >
  <div class="bandeau-liens" id="divbandeau-lienCNRS"> <a href="http://www.cnrs.fr/fr/organisme/presentation.htm" target="_blank">Le CNRS</a> </div>
<div id="divbandeau-traitvert1"><img src="../z-outils/images/charte/trait-vertical.gif"></div>
  <div id="divbandeau-lienAccueil" class="bandeau-liens"> <a href="http://www.cnrs.fr/shs/" target="_blank">Accueil SHS</a> </div>
<div id="divbandeau-traitvert2"><img src="../z-outils/images/charte/trait-vertical.gif"></div>
  <div id="divbandeau-lienAutres" class="bandeau-liens"><a href="http://www.cnrs.fr/fr/une/sites-cnrs.htm" target="_blank">Autres sites CNRS</a></div> 
<div id="divbandeau-traitvert3"><img src="../z-outils/images/charte/trait-vertical.gif"></div>

<table height="900" width="751"  border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="150"><img src="../z-outils/images/boite-outils/espaceur.gif" width="150" height="65" alt=""></td>
    <td colspan="2"><img src="../z-outils/images/charte/bandeau-haut-droit.gif" alt="" width="100%" border="0"></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td width="150" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td colspan="2" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td width="150">&nbsp;</td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="62"></td>
    <td width="599" height="1"><!-- InstanceBeginEditable name="Visuel" --><span class="Xchemin"><img src="../images/bandeaux/bandeauSiteSearch4.jpg" alt="SiteSearch" width="100%"></span><!-- InstanceEndEditable --></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="62"></td>
  </tr>
  <tr>
    <td width="150"><img src="../z-outils/images/boite-outils/espaceur.gif" width="150" height="1"></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td width="599" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td class="Xchemin"> &nbsp;<!-- InstanceBeginEditable name="Chemin" --><a href="../index.htm">Accueil</a>  &gt; R&eacute;sultat de la recherche <!-- InstanceEndEditable --></td>
    <td class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="30"></td>
  </tr>
  <tr>
    <td height="1"><img src="../z-outils/images/boite-outils/espaceur.gif" width="150" height="1"></td>
    <td height="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td height="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="599" height="1"></td>
    <td class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td width="150">&nbsp;</td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td width="599" rowspan="2" class="Xtextcourant" valign="top"><div id="ZonePrint">
      <!-- InstanceBeginEditable name="Contenu" -->
      <?php
/* * * * * * * * * * * * * * * * * * * * * * *

			A Blork Engine v0.23b
			Script du moteur

Pour les gens qui veulent modifier le moteur � leur go�t, je vous ai
mis des commentaires au cours du script qui vous aideront � vous
rep�rer.

* * * * * * * * * * * * * * * * * * * * * * *

a Blork Engine
Copyright (C) 2003 zulios

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.

* * * * * * * * * * * * * * * * * * * * * * */

// On adapte les variables selon la version de PHP
$version_de_php=phpversion();
$version_de_php=str_replace(".","",$version_de_php);
 if($version_de_php >= 410){
    $action = $_GET['action'];
    $blork = $_GET['blork'];
    $start = $_GET['start'];
    $multi = $_GET['multi'];
}

// Liste des codes htmls sp�ciaux
$caractere_special=array(
"&agrave;"=>"�",
"&aacute;"=>"�",
"&acirc;"=>"�",
"&atilde;"=>"�",
"&auml;"=>"�",
"&aring;"=>"�",
"&aelig;"=>"�",
"&ccedil;"=>"�",
"&egrave;"=>"�",
"&eacute;"=>"�",
"&ecirc;"=>"�",
"&euml;"=>"�",
"&icirc;"=>"�",
"&iuml;"=>"�",
"&ocirc;"=>"�",
"&ouml;"=>"�",
"&ugrave;"=>"�",
"&uacute;"=>"�",
"&ucirc;"=>"�",
"&uuml;"=>"�",
"&amp;"=>"&",
);

// On fait les includes de base

require("blork_engine_config.php");
$version="0.23b";

// Variables par d�faut

if($maxmots==""){ $maxmots="20"; }
if($maxipage==""){ $maxipage="20"; }
if($start=="" || $start=="0" ){ $start="1"; }
$longueur_blork=strlen($blork);
$blork=trim($blork);
$blork=ereg_replace(" +", " ", $blork);
$blork2=htmlspecialchars($blork);

$form_recherche="<form method=GET><br>Nouvelle recherche :<br>
<input type=hidden value=\"go\" name=action>
<input type=text value=\"$blork2\" maxlength=50 size=25 name=blork>
<input type=submit value='OK'><br>
</form>";

?>


<h3>R�sultat de la recherche</h3>


<?php

// On v�rifie que la recherche est correctement lanc�e

if($action!="go"){ echo("$form_recherche");
include("blork_engine_bas.html");
exit(); }

// On v�rifie la longueur de la recherche

if($longueur_blork<3){
echo("Votre recherche doit comporter au moins trois caract�res.<br> $form_recherche");
include("blork_engine_bas.html");
exit(); }

// R�sultats � 0
$compteresultats="0";
$zetotal="0";

// Scan des sous dossiers sur 10 niveaux si on l'a activ�
// On v�rifie les sous-dossiers � scanner uniquement ici
// Ensuite on les rajoute � la liste
// Comme �a apr�s on n'aura plus qu'a faire un scan classique
// Sur tous les dossiers de la liste

if($scan_sousdos=="on"){

$encore1=array();
$encore2=array();

foreach($dossier as $nomdos=>$d){

// Sous-dossier 1

$fp=opendir("$d");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$d."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore1[]="$verif";

}}} closedir($fp);
unset($fp); unset($nomdos); }


// Sous-dossier 2

foreach($encore1 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore2[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos);
$encore1=array(); }


// Sous-dossier 3

foreach($encore2 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore1[]="$verif";

}

}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos);
$encore2=array(); }


// Sous-dossier 4

foreach($encore1 as $nom_du_soudos=>$le_soudos){

$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore2[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos);
$encore1=array(); }


// Sous-dossier 5

foreach($encore2 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore1[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos);
$encore2=array(); }


// Sous-dossier 6

foreach($encore1 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore2[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos);
$encore1=array(); }


// Sous-dossier 7

foreach($encore2 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore1[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos);
$encore2=array(); }


// Sous-dossier 8

foreach($encore1 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore2[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos);
$encore1=array(); }


// Sous-dossier 9

foreach($encore2 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";
$encore1[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos); }


// Sous-dossier 10

foreach($encore1 as $nom_du_soudos=>$le_soudos){
$fp=opendir("$le_soudos");
while($file = readdir($fp)){
if($file!='.' && $file!='..'){
$verif=$le_soudos."/".$file;
if(is_dir($verif) && !(in_array($verif, $dossier)) && !(in_array($verif, $exclu))){

$dossier[]="$verif";

}}}
closedir($fp);
unset($fp,$nom_du_soudos,$le_soudos,$encore1,$encore2);
}}

// Passage en minuscules de la recherche
$blork=strtolower($blork);

// Maintenant on lance le scan classique sur les dossiers de la liste
// Les sous-dossiers ont �t� rajout�s au besoin par la fonction pr�c�dente

foreach($dossier as $nomdos=>$d){


// S�same ouvre toi

$fp=opendir("$d");
while($file = readdir($fp)){
if($file=="." || $file==".." || is_dir($file)){ continue; }

// On ne scanne pas les fichiers exclus
if(in_array($file, $exclu)){ continue; }

// On r�cup�re l'extension
// Merci � Fr�d�ric Bouchery pour ce regex :-)
$ext = ereg_replace('^.*[.]([^.]*)$', '\\1', $file);

// S�lection des extensions
// On ne scanne que ces types de fichiers

if(
   $ext!="html"
&& $ext!="htm"
&& $ext!="php"
&& $ext!="php3"
&& $ext!="txt"
&& $ext!="php4"
&& $ext!="gif"
&& $ext!="jpg"
&& $ext!="png"){ continue; }

// Maintenant on est s�r de devoir scanner le fichier
// On peut �x�cuter tous les traitements n�cessaires

// D�termination du type de fichier
// On ne v�rifiera que le nom des fichiers de type "img" (image)
// alors que les fichiers de type "normal" seront enti�rement retrait�s
// car consid�r�s comme contenant du texte lisible par le moteur.

if($ext=="html" || $ext=="htm" || $ext=="php" || $ext=="php3" || $ext=="txt" || $ext=="php4"){
$filetype="normal"; } else{ $filetype="img"; }

// Maintenant qu'on a d�termin� la place de notre fichier entre les deux types
// On va appliquer des retraitements pr�liminaires sur les fichiers de type "normal" uniquement
if($filetype=="normal"){

// On ouvre le contenu du fichier

$recupere_le_fichier=fopen("$d/$file","r");
$tout=fread($recupere_le_fichier,500000);
fclose($recupere_le_fichier);

// Passage en minuscules
$tout=strtolower($tout);

// On vire le html et le php
$tout=strip_tags($tout,'<title></title><script></script><head></head><style></style>');


// On r�cup�re le titre du fichier
// Ou alors on affiche le nom avec l'extension
// Puis on supprime le titre pour ne pas fausser les r�sultats

if(strpos($tout,"<title>") && strpos($tout,"</title>"))
{
$titre1=strstr($tout,'<title>');
$titre2=strstr($tout,'</title>');
$titre1=str_replace("$titre2","",$titre1);
$titre1=str_replace("<title>","",$titre1);
if($titre1==""){ $titre=$file; } else{ $titre=$titre1; }
}
else{
$titre=$file; }

$titre=strtolower($titre);
unset($titre1, $titre2);
$tout = preg_replace('`<title.*?/title>`', '', $tout);


// 3 �tapes ici :

// Etape 1 -
// On effectue des remplacements pour pouvoir appliquer les regex :
// 1- On remplace le saut de ligne par un espace
// 3- Les &nbsp; (code html pour un espace) sont remplac�s par des espaces
// 4- Les doubles espaces sont remplac�s par un simple espace

// Etape 2-
// On lance les regex
// 1- On vire le code entre <head> et </head> qui contient en g�n�ral tout les trucs qui ne nous int�ressent pas ici (feuille de style, javascript...)
// 2- On vire le javascript pour �viter les bugs au cas ou une partie nous aurait �chapp�e
// 3- On vire les attributs de style pour les m�mes raisons
// Merci encore une fois � Fr�d�ric Bouchery pour le regex

// Etape 3-
// On remplace le code html des accents et autres caract�res sp�ciaux par le terme correspondant
// pour le titre ET le contenu


$tout = str_replace("\n"," ",$tout);
$tout = str_replace("&nbsp;"," ",$tout);
$tout = str_replace("  "," ",$tout);

$tout = preg_replace('`<head.*?/head>`', '', $tout);
$tout = preg_replace('`<script.*?/script>`', '', $tout);
$tout = preg_replace('`<style.*?/style>`', '', $tout);

foreach($caractere_special as $caractere_code=>$caractere_traduction){
$tout = str_replace("$caractere_code","$caractere_traduction",$tout);
$titre = str_replace("$caractere_code","$caractere_traduction",$titre); }

// Fin du retraitement
}

// Maintenant le fichier a �t� retrait� (si n�cessaire),
// on peut voir s'il contient ce qu'on cherche.

// On incr�mente le nb de fichiers scann�s
$zetotal++;
if($zetotal>9999){ continue 2; }

// Si on trouve la recherche
if(strpos("$tout","$blork") || strpos("$file","$blork") || strpos("$titre","$blork")){

// R�sultats +1
$compteresultats++;

// S'il s'agit d'un fichier de type "normal"
if($filetype=="normal"){

// On compte les occurences du terme
// Les occurences trouv�es dans le titre comptent pour 10 (pire qu'au scrabble) car ils sont souvent explicites sur le contenu de la page

$total_mots=intval(substr_count($titre,$blork)*10+$total_mots);
$total_mots=intval(substr_count($tout,$blork)+$total_mots);

// On cr�e la description

$position=strpos($tout, $blork);
$start_position=intval($position-50);
if($start_position<0){ $start_position="0"; }
$fin_position=intval($longueur_blork+100);

if($position === FALSE ){ $resume.="Terme exact introuvable dans le contenu du fichier."; }
else{
$resume="... ";
$resume.=substr($tout, $start_position, $fin_position);
$resume.=" ... ";

// On met en gras le terme recherch� dans la description
$resume=str_replace($blork,"<b>$blork2</b>",$resume); }

}

// Si c'est une image ou un autre type de fichier
// On adapte la description
else{ $resume="Fichier $ext"; }

// Puis dans le titre
$titre=str_replace($blork,"<b>$blork2</b>",$titre);


// Calcul du pourcentage de pertinence

similar_text($blork, $tout, $p1);
similar_text($blork, $titre, $p2);
$p=intval($p1+$p2);

// Si le pourcentage est sup�rieur ou �gal � 100 on le ram�ne � 99
// Et s'il est �gal � 0 on le ram�ne � 1 pour qu'il puisse �tre r�index� (voir suite)

if($p>=100){ $p="99"; }
if($p=="0"){ $p="1"; }

// On va cr�er une cl� identique pour chaque r�sultat.
// Le premier sera un "1", pour que la cl� soit r�index�e
// Le suivant sera le nombre d'occurences total de mots trouv�s (en dizaines)
// Ensuite le pourcentage de similarit� du texte + celui du titre (deux chiffres)
// Enfin le num�ro du r�sultat (4 chiffres)
// Avec cette cl� on pourra classer les r�sultats par ordre d�croissant selon le chiffre obtenu, donc par pertinence.

// Notes :
// La cl� ne doit pas commencer par 0 donc il �tait important de mettre en premier
// un "1", ou un chiffre sup�rieur � 0 en tout cas.
// La cl� ne doit pas �tre sup�rieure � 8 chiffres, sinon elle ne sera pas r�index�e.

// Cette bidouille me permettra par la suite avec array_unshift() de r�indexer le tableau avec
// des cl�s num�riques pour pouvoir afficher uniquement les r�sultats souhait�s, donc j'�conomise
// du temps d'�x�cution et des ressources par rapport � l'ancienne m�thode qui consistait � cr�er
// un nouveau tableau. L'array_unshift() me rajoutera une valeur de cl� 0 que je ne supprime pas
// parce que je pourrai ainsi g�rer mes r�sultats � partir de 1, ce qui est plus logique.

// On ram�ne les occurences au maxi � 99
// Puis on rajoute un 0 devant le chiffre s'il est inf�rieur � 10
// Enfin on ne garde que le chiffre des dizaines

if($total_mots>=100){ $total_mots="99"; }
if (strlen($total_mots)==1){
$total_mots=str_repeat("0",2-strlen($total_mots)).$total_mots; }
$total_mots=substr($total_mots, 0, 1);

// Idem pour les pourcentages

if (strlen($p)==1){
$p=str_repeat("0",2-strlen($p)).$p; }

// Et enfin le num�ro du r�sultat

$compteresultats2=$compteresultats;
if (strlen($compteresultats2)<4){
$compteresultats2=str_repeat("0",4-strlen($compteresultats2)).$compteresultats2; }


// On met la premi�re lettre du titre en majuscules
$titre=ucfirst($titre);


// URL par d�faut pour les fichiers

// On vire l'extension si besoin
if($montre_ext=="off" && $filetype!="img"){
$file=str_replace(".$ext","",$file); }

if($go2url==""){ $go_2_url="$d/$file"; }
else{
$go_2_url="$go2url";
$go_2_url=str_replace("[dossier]",$d,$go_2_url);
$go_2_url=str_replace("[fichier]",$file,$go_2_url); }


// Source du r�sultat

$src=" <A href=\"$go_2_url\">$titre</A> <br>
$resume

";

// On enregistre
$zeresults["1".$total_mots."".$p."".$compteresultats2]="$src";

// On remet a z�ro histoire d'�viter des doublons
unset(
$compteresultats2,
$tout,
$resume,
$src,
$titre,
$filetype,
$p,
$p1,
$p2,
$file,
$ext,
$total_mots,
$register
);

}}


// On referme
// S�same ferme toi

closedir($fp);
unset($tout,$filetype,$fp,$ext); }


// Si on a des r�sultats
// On les classe par ordre d�croissant de pertinence
// Ensuite on lance un array_unshift() qui r�indexe le tableau
// ce qui nous permet d'avoir des cl�s num�riques et de g�rer les r�sultats � partir de 1
// Pour de plus amples explications vous pouvez voir un peu plus haut
// ou me contacter, j'essaierai de vous expliquer �a en d�tail.

if($compteresultats>0){
krsort($zeresults);
array_unshift($zeresults,"rien"); }

// On d�finit les diff�rentes variables qui serviront pour la barre de navigation

if($start=="1" && $compteresultats=="0" ){ $start="0"; }
$pourvoir=intval($start+$maxipage-1);
if($pourvoir>$compteresultats){ $pourvoir=$compteresultats; }
$finstart=intval($compteresultats-$maxipage+1);
$prevbarre=intval($start-$maxipage);
$nextbarre=intval($start+$maxipage);
$nb_barre="1";
$compte_affichage=$start;


// Changement du texte selon les r�sultats
// Entre singulier et pluriel

$rs=" r�sultat trouv� ";
$fich=" fichier";
if($compteresultats>1){ $rs=" r�sultats trouv�s "; }
if($zetotal>1){ $fich=" fichiers"; }


// Maintenant on commence l'affichage

echo("R�sultats de votre recherche pour <b>$blork2</b><br> $compteresultats $rs sur $zetotal $fich - Affichage des r�sultats $start � $pourvoir");

if($compteresultats>0){ echo("$form_recherche"); }


// On s�lectionne les �l�ments du tableau de r�sultat � afficher et on les lance

if($compteresultats>0){
foreach($zeresults as $key=>$value){
if($key>=$start && $key<$nextbarre){

echo("<br><br>
$value");

$compte_affichage++; }}  }


// Et si on a trop de r�sultats par rapport au nombre � afficher dans la page on met la barre de navigation

if($compteresultats>$maxipage){

echo("<p align=center><br>");

if($start!="1"){
echo("<A href=\"engine.php?blork=$blork&action=go&choix=$choix\"><< D�but</A> <A href=\"engine.php?blork=$blork&action=go&start=$prevbarre&choix=$choix\">< Page pr�c�dente</A> ("); }
else{ echo("<< D�but < Page pr�c�dente ("); }

for($barre=1;$barre<$compteresultats;){
$finbarre=intval($compteresultats-$barre);
echo(" <A href=\"engine.php?blork=$blork&action=go&start=$barre&choix=$choix\">$nb_barre</A> ");
$nb_barre++;
$barre=intval($barre+$maxipage); }

if($start<$finstart){ echo(") <A href=\"engine.php?blork=$blork&action=go&start=$nextbarre&choix=$choix\">Page suivante ></A> <A href=\"engine.php?blork=$blork&action=go&start=$finstart&choix=$choix\">Fin >></A>"); }
else{ echo(") Page suivante >  Fin >>"); }

echo("</p>");

}

if($compteresultats=="0"){
echo("<br><center> Votre recherche sur le terme <b>$blork2</b> n'a donn� aucun r�sultat. Essayez d'�largir votre recherche en y mettant moins de mots ou v�rifiez son orthographe.</center>");
}
else{
echo("<p align=center><br>$compteresultats $rs sur $zetotal $fich.</p>"); }

echo("$form_recherche");

?>


		<br>
		<i><small>Source du moteur de recherche : A Blork Engine v0.23b</small></i>
      <!-- InstanceEndEditable --></div>
    </td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="500"></td>
  </tr>
  <tr>
    <td width="150" class="XnavgaucheIcones"><img src="../z-outils/images/charte/icones-01.gif" alt="" width="150" height="55" border="0" usemap="#Map2"></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td width="150" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="150" height="1"></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
    <td width="599" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"><img src="../z-outils/images/boite-outils/espaceur.gif" width="150" height="1"></td>
    <td width="1" class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" width="1" height="1"></td>
  </tr>
</table>
<p>&nbsp;</p>
 <p>&nbsp;</p>
 
 
 
 

 
 
 <div id="divpartenaires" >
   <table width="150"  border="0" cellspacing="0" cellpadding="0">
     <tr>
       <td><a href="http://www.cnrs.fr" target="_blank"><img src="../images/logos/logo-cnrs.jpg" alt="cnrs" width="150" height="62" border="0"></a></td>
     </tr>
     <tr>
       <td class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" alt="aa" width="150" height="1"></td>
     </tr>
     <tr>
       <td><a href="http://www.univ-paris3.fr/1207750810633/0/fiche___defaultstructureksup/&RH=1235649944785" target="_blank"><img src="../images/logos/logo-paris-3.gif" alt="paris3" width="150" height="53" border="0"></a></td>
     </tr>
     <tr>
       <td class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" alt="aa" width="150" height="1"></td>
     </tr>
     <tr>
       <td><a href="http://www.paris-sorbonne.fr/fr/spip.php?rubrique1096" target="_blank"><img src="../images/logos/logo-paris-4.gif" alt="paris4" width="150" height="53" border="0"></a></td>
     </tr>
     <tr>
       <td class="separateur"><img src="../z-outils/images/boite-outils/espaceur.gif" alt="aa" width="150" height="1"></td>
     </tr>
     <tr>
       <td><a href="http://www.typologie.cnrs.fr/" target="_blank"><img src="../images/logos/logo-typo.gif" alt="tul" width="150" height="53" border="0"></a></td>
     </tr>
   </table>
 </div>
<p>
     <script type='text/javascript'>function Go(){return}</script>
     <script type='text/javascript' src='../z-outils/deroulants/top_pos_var.js'></script>
     <script type='text/javascript' src='../z-outils/deroulants/menu_var.js'></script>
     <script type='text/javascript' src='../z-outils/deroulants/menu9_com.js'></script>
</p>
 <noscript>
 <p>Your browser does not support script</p>
</noscript>



 <div id="divnavgauche-spec">
   <table border="0" cellpadding="0" cellspacing="0"  width="150">
     <tr>
       <td height="2"><img border="0" src="../z-outils/images/boite-outils/pointilles.gif" alt="" width="150" height="3"></td>
     </tr>
     <tr>
       	<td width="100%"  class="Xnavgauche" >
        	<table border="0" cellpadding="10" cellspacing="0"  width="100%">
      			<tr>
       	 			<td width="100%" class="Xnavgauche"><h2><a href="../INTRANET/index.htm">Intranet <img border="0" src="../z-outils/images/boite-outils/icones/intranet.gif" width="18" height="12"
							alt="aa"></a></h2></td>
      			</tr>
       		</table>
       </td>
     </tr>
     <tr>
       <td height="2"><img border="0" src="../z-outils/images/boite-outils/pointilles.gif" alt="" width="150" height="3"></td>
     </tr>
    </table>
 </div>
 

 
 <div id="divnavgauche-searchLabo">
   <table cellspacing="0" cellpadding="0" hspace="11" border="0">
     <tr>
     	<td width="100%" class="Xnavgauche"><h2 >Rechercher</h2>
                 <p>Sur le WEB 
                   du laboratoire</p>
               <br>
      	 </td>
         </tr>
         <tr>
     	 <td>       
				<form name="rechercher-spm" action="http://lacito.vjf.cnrs.fr/moteur/engine.php" method="GET">
				<input type="hidden" name="action"  value="go">
				<table cellspacing="0" cellpadding="0" border="0">
					<tr>
						<td><input name ="blork" maxLength="50" size="10" class="text"></td>
						<td><img border="0" src="../z-outils/images/boite-outils/espaceur.gif" width="10" height="8"
							alt="aa"></td>
						<td><input name="submit2" type="image" src="../z-outils/images/charte/ok.gif" 
                             border="0" width="20" height="20">
						</td>
					</tr>
				</table>
  				</form>
          </td>
        </tr>
       </table>
        <tr>
       <td height="2"><img border="0" src="../z-outils/images/boite-outils/pointilles.gif" alt="" width="150" height="3"></td>
		</tr>

 </div>
 
 
 
 
 
  <div id="divnavgauche-language">
 <p class="intertitre" align="center"><a href="Javascript:version()"><img src="../images/logos/eng.gif" alt="English" border="0"></a></p>
 </div>
 




<map name="Map2">
  <area shape="rect" coords="28,23,46,43" href="javascript:impression()" alt="Imprimer">
  <area shape="rect" coords="49,22,66,42" href="javascript:writemail('vjf.cnrs.fr','behaghel','',1);" alt="Contacter le webmestre">
  <area shape="rect" coords="68,23,85,43" href="../pratique/index.htm" alt="Plan du site">
  <area shape="rect" coords="87,23,105,43" href="../pratique/credits.htm" alt="Crédits">
  <area shape="rect" coords="9,24,25,43" href="../index.htm" alt="Accueil">
</map>


<div id="divnavhaut-nom-labo">
  <table width="100%" border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td valign="top" class="Xnavhaut"><p> <a href="../index.htm"><img src="../images/logos/Logo_Lacito.jpg" alt="aa" width="141" height="59" hspace="10" border="0" align="left"></a> <span class="Style1">Langues et civilisations<br>
        à tradition orale <br>
        (UMR7107)</span></p></td>
    </tr>
  </table>
</div>





</body>
<!-- InstanceEnd --></html>